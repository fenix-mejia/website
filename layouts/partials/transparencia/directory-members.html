<div class="row justify-content-center">
  <div class="col-lg-8">
    {{/* Apply our new custom card style to the <ul> element */}}
    <ul class="list-group directory-card">

      {{/* A simplified map to assign our new, semantic CSS classes.
        This is much cleaner as styling is now handled in SCSS.
      */}}
      {{ $roleClasses := dict
          "Presidente" "badge-role-exec"
          "Vicepresidenta" "badge-role-exec"
          "Secretario" "badge-role-key"
          "Responsable Econ√≥mico" "badge-role-key"
      }}

      {{ range .Site.Data.transparencia.directory }}
        {{ if .name }}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ .name }}

            {{/* This logic now cleanly determines the single class to apply.
            */}}
            {{ $badgeClass := "" }}
            {{ if findRE `Principal` .role }}
              {{ $badgeClass = "badge-role-principal" }}
            {{ else if findRE `Suplente` .role }}
              {{ $badgeClass = "badge-role-alternate" }}
            {{ else }}
              {{ $badgeClass = index $roleClasses .role }}
            {{ end }}

            {{/* The badge now uses our custom base class and the determined tier class */}}
            <span class="badge badge-role {{ $badgeClass }} rounded-pill">{{ .role }}</span>
          </li>
        {{ end }}
      {{ end }}
    </ul>
  </div>
</div>
